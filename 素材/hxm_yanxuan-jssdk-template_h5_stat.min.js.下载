var bundle=function(){"use strict";var e=navigator.userAgent,t=/iphone|ipad|android/gi.test(e),n=/yanxuan/i.test(e),i=(/MicroMessenger/i.test(e),"miniprogram"===window.__wxjs_environment||/miniprogram/i.test(navigator.userAgent)&&!/alipayclient/i.test(navigator.userAgent)),o=/toutiaomicroapp/i.test(navigator.userAgent),a=/alipayclient/i.test(navigator.userAgent),r=i||o||a,s=/android/i.test(e),c=!s,u=(/Safari/.test(navigator.userAgent)&&/Chrome/.test(navigator.userAgent),!("onpagehide"in window)),l=function(){var t=e.toLowerCase().match(/yanxuan\/(\d+\.\d+\.\d+)/);return t?t[t.length-1]:"0.0.0"},d={cookieCache:{},setCookie:function(e,t,n,i,o){var a=e+"="+escape(t);if(i=i||"/",n&&-1!==n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),a+=";expires="+r.toUTCString()}a+=";path="+i,o&&(a+=";domain="+o),document.cookie=a+";",this.clearCookieCache()},getCookie:function(e){var t="",n=this.cookieCache;n.lastTime?t=(new Date).getTime()-n.lastTime<1e3?n.cookie:n.cookie=document.cookie:(n.lastTime=(new Date).getTime(),t=n.cookie=document.cookie);var i=new RegExp(e+"=([^;]+)").exec(t);return i?i[1]:""},clearCookieCache:function(){this.cookieCache={}}},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){throw new TypeError("this is null or undefined")});var v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.options=this.extend(t,{swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",detectScreenOrientation:!0,sortPluginsFor:[/palemoon/i],userDefinedFonts:[]}),this.nativeForEach=Array.prototype.forEach,this.nativeMap=Array.prototype.map}return p(e,[{key:"extend",value:function(e,t){if(null==e)return t;for(var n in e)null!=e[n]&&t[n]!==e[n]&&(t[n]=e[n]);return t}},{key:"log",value:function(e){window.console&&console.log(e)}},{key:"get",value:function(e){var t=[];t=this.userAgentKey(t),t=this.languageKey(t),t=this.colorDepthKey(t),t=this.pixelRatioKey(t),t=this.screenResolutionKey(t),t=this.availableScreenResolutionKey(t),t=this.sessionStorageKey(t),t=this.localStorageKey(t),t=this.indexedDbKey(t),t=this.cpuClassKey(t),t=this.platformKey(t),t=this.canvasKey(t);var n=this;this.fontsKey(t,(function(t){var i=[];n.each(t,(function(e){var t=e.value;void 0!==e.value.join&&(t=e.value.join(";")),i.push(t)}));var o=n.x64hash128(i.join("~~~"),31);return e(o,t)}))}},{key:"userAgentKey",value:function(e){return this.options.excludeUserAgent||e.push({key:"user_agent",value:this.getUserAgent()}),e}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"languageKey",value:function(e){return this.options.excludeLanguage||e.push({key:"language",value:navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||""}),e}},{key:"colorDepthKey",value:function(e){return this.options.excludeColorDepth||e.push({key:"color_depth",value:window.screen.colorDepth||-1}),e}},{key:"pixelRatioKey",value:function(e){return this.options.excludePixelRatio||e.push({key:"pixel_ratio",value:this.getPixelRatio()}),e}},{key:"getPixelRatio",value:function(){return window.devicePixelRatio||""}},{key:"screenResolutionKey",value:function(e){return this.options.excludeScreenResolution?e:this.getScreenResolution(e)}},{key:"getScreenResolution",value:function(e){var t=void 0;return void 0!==(t=this.options.detectScreenOrientation&&window.screen.height>window.screen.width?[window.screen.height,window.screen.width]:[window.screen.width,window.screen.height])&&e.push({key:"resolution",value:t}),e}},{key:"availableScreenResolutionKey",value:function(e){return this.options.excludeAvailableScreenResolution?e:this.getAvailableScreenResolution(e)}},{key:"getAvailableScreenResolution",value:function(e){var t=void 0;return window.screen.availWidth&&window.screen.availHeight&&(t=this.options.detectScreenOrientation?window.screen.availHeight>window.screen.availWidth?[window.screen.availHeight,window.screen.availWidth]:[window.screen.availWidth,window.screen.availHeight]:[window.screen.availHeight,window.screen.availWidth]),void 0!==t&&e.push({key:"available_resolution",value:t}),e}},{key:"sessionStorageKey",value:function(e){return!this.options.excludeSessionStorage&&this.hasSessionStorage()&&e.push({key:"session_storage",value:1}),e}},{key:"localStorageKey",value:function(e){return!this.options.excludeSessionStorage&&this.hasLocalStorage()&&e.push({key:"local_storage",value:1}),e}},{key:"indexedDbKey",value:function(e){return!this.options.excludeIndexedDB&&this.hasIndexedDB()&&e.push({key:"indexed_db",value:1}),e}},{key:"cpuClassKey",value:function(e){return this.options.excludeCpuClass||e.push({key:"cpu_class",value:this.getNavigatorCpuClass()}),e}},{key:"platformKey",value:function(e){return this.options.excludePlatform||e.push({key:"navigator_platform",value:this.getNavigatorPlatform()}),e}},{key:"canvasKey",value:function(e){return!this.options.excludeCanvas&&this.isCanvasSupported()&&e.push({key:"canvas",value:this.getCanvasFp()}),e}},{key:"fontsKey",value:function(e,t){return this.jsFontsKey(e,t)}},{key:"jsFontsKey",value:function(e,t){var n=this;return setTimeout((function(){var i=["monospace","sans-serif","serif"],o=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Garamond","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"];o=o.concat(n.options.userDefinedFonts);var a=document.getElementsByTagName("body")[0],r=document.createElement("div"),s=document.createElement("div"),c={},u={},l=function(){var e=document.createElement("span");return e.style.position="absolute",e.style.left="-9999px",e.style.fontSize="72px",e.style.lineHeight="normal",e.innerHTML="mmmmmmmmmmlli",e},d=function(e,t){var n=l();return n.style.fontFamily="'"+e+"',"+t,n},p=function(e){for(var t=!1,n=0;n<i.length;n++)if(t=e[n].offsetWidth!==c[i[n]]||e[n].offsetHeight!==u[i[n]])return t;return t},v=function(){for(var e=[],t=0,n=i.length;t<n;t++){var o=l();o.style.fontFamily=i[t],r.appendChild(o),e.push(o)}return e}();a.appendChild(r);for(var h=0,m=i.length;h<m;h++)c[i[h]]=v[h].offsetWidth,u[i[h]]=v[h].offsetHeight;var f=function(){for(var e={},t=0,n=o.length;t<n;t++){for(var a=[],r=0,c=i.length;r<c;r++){var u=d(o[t],i[r]);s.appendChild(u),a.push(u)}e[o[t]]=a}return e}();a.appendChild(s);for(var g=[],w=0,y=o.length;w<y;w++)p(f[o[w]])&&g.push(o[w]);a.removeChild(s),a.removeChild(r),e.push({key:"js_fonts",value:g}),t(e)}),1)}},{key:"hasSessionStorage",value:function(){try{return!!window.sessionStorage}catch(e){return!0}}},{key:"hasLocalStorage",value:function(){try{return!!window.localStorage}catch(e){return!0}}},{key:"hasIndexedDB",value:function(){return!!window.indexedDB}},{key:"getNavigatorCpuClass",value:function(){return navigator.cpuClass?navigator.cpuClass:"unknown"}},{key:"getNavigatorPlatform",value:function(){return navigator.platform?navigator.platform:"unknown"}},{key:"getCanvasFp",value:function(){var e=[],t=document.createElement("canvas");t.width=2e3,t.height=200,t.style.display="inline";var n=t.getContext("2d");return n&&(n.rect(0,0,10,10),n.rect(2,2,6,6),e.push("canvas winding:"+(!1===n.isPointInPath(5,5,"evenodd")?"yes":"no")),n.textBaseline="alphabetic",n.fillStyle="#f60",n.fillRect(125,1,62,20),n.fillStyle="#069",this.options.dontUseFakeFontInCanvas?n.font="11pt Arial":n.font="11pt no-real-font-123",n.fillText("mail psc fingerprint!",2,15),n.fillStyle="rgba(102, 204, 0, 0.2)",n.font="18pt Arial",n.fillText("mail psc fingerprint!",4,45),n.globalCompositeOperation="multiply",n.fillStyle="rgb(255,0,255)",n.beginPath(),n.arc(50,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(0,255,255)",n.beginPath(),n.arc(100,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,255,0)",n.beginPath(),n.arc(75,100,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,0,255)",n.arc(75,75,75,0,2*Math.PI,!0),n.arc(75,75,25,0,2*Math.PI,!0),n.fill("evenodd")),e.push("canvas fp:"+t.toDataURL()),e.join("~")}},{key:"isCanvasSupported",value:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}},{key:"isIE",value:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))}},{key:"each",value:function(e,t,n){if(null!==e)if(this.nativeForEach&&e.forEach===this.nativeForEach)e.forEach(t,n);else if(e.length===+e.length){for(var i=0,o=e.length;i<o;i++)if(t.call(n,e[i],i,e)==={})return}else for(var a in e)if(e.hasOwnProperty(a)&&t.call(n,e[a],a,e)==={})return}},{key:"map",value:function(e,t,n){var i=[];return null==e?i:this.nativeMap&&e.map===this.nativeMap?e.map(t,n):(this.each(e,(function(e,o,a){i[i.length]=t.call(n,e,o,a)})),i)}},{key:"x64Add",value:function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}},{key:"x64Multiply",value:function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}},{key:"x64Rotl",value:function(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}},{key:"x64LeftShift",value:function(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}},{key:"x64Xor",value:function(e,t){return[e[0]^t[0],e[1]^t[1]]}},{key:"x64Fmix",value:function(e){return e=this.x64Xor(e,[0,e[0]>>>1]),e=this.x64Multiply(e,[4283543511,3981806797]),e=this.x64Xor(e,[0,e[0]>>>1]),e=this.x64Multiply(e,[3301882366,444984403]),e=this.x64Xor(e,[0,e[0]>>>1])}},{key:"x64hash128",value:function(e,t){t=t||0;for(var n=(e=e||"").length%16,i=e.length-n,o=[0,t],a=[0,t],r=[0,0],s=[0,0],c=[2277735313,289559509],u=[1291169091,658871167],l=0;l<i;l+=16)r=[255&e.charCodeAt(l+4)|(255&e.charCodeAt(l+5))<<8|(255&e.charCodeAt(l+6))<<16|(255&e.charCodeAt(l+7))<<24,255&e.charCodeAt(l)|(255&e.charCodeAt(l+1))<<8|(255&e.charCodeAt(l+2))<<16|(255&e.charCodeAt(l+3))<<24],s=[255&e.charCodeAt(l+12)|(255&e.charCodeAt(l+13))<<8|(255&e.charCodeAt(l+14))<<16|(255&e.charCodeAt(l+15))<<24,255&e.charCodeAt(l+8)|(255&e.charCodeAt(l+9))<<8|(255&e.charCodeAt(l+10))<<16|(255&e.charCodeAt(l+11))<<24],r=this.x64Multiply(r,c),r=this.x64Rotl(r,31),r=this.x64Multiply(r,u),o=this.x64Xor(o,r),o=this.x64Rotl(o,27),o=this.x64Add(o,a),o=this.x64Add(this.x64Multiply(o,[0,5]),[0,1390208809]),s=this.x64Multiply(s,u),s=this.x64Rotl(s,33),s=this.x64Multiply(s,c),a=this.x64Xor(a,s),a=this.x64Rotl(a,31),a=this.x64Add(a,o),a=this.x64Add(this.x64Multiply(a,[0,5]),[0,944331445]);switch(r=[0,0],s=[0,0],n){case 15:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(l+14)],48));case 14:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(l+13)],40));case 13:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(l+12)],32));case 12:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(l+11)],24));case 11:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(l+10)],16));case 10:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(l+9)],8));case 9:s=this.x64Xor(s,[0,e.charCodeAt(l+8)]),s=this.x64Multiply(s,u),s=this.x64Rotl(s,33),s=this.x64Multiply(s,c),a=this.x64Xor(a,s);case 8:r=this.x64Xor(r,this.x64LeftShift([0,e.charCodeAt(l+7)],56));case 7:r=this.x64Xor(r,this.x64LeftShift([0,e.charCodeAt(l+6)],48));case 6:r=this.x64Xor(r,this.x64LeftShift([0,e.charCodeAt(l+5)],40));case 5:r=this.x64Xor(r,this.x64LeftShift([0,e.charCodeAt(l+4)],32));case 4:r=this.x64Xor(r,this.x64LeftShift([0,e.charCodeAt(l+3)],24));case 3:r=this.x64Xor(r,this.x64LeftShift([0,e.charCodeAt(l+2)],16));case 2:r=this.x64Xor(r,this.x64LeftShift([0,e.charCodeAt(l+1)],8));case 1:r=this.x64Xor(r,[0,e.charCodeAt(l)]),r=this.x64Multiply(r,c),r=this.x64Rotl(r,31),r=this.x64Multiply(r,u),o=this.x64Xor(o,r)}return o=this.x64Xor(o,[0,e.length]),a=this.x64Xor(a,[0,e.length]),o=this.x64Add(o,a),a=this.x64Add(a,o),o=this.x64Fmix(o),a=this.x64Fmix(a),o=this.x64Add(o,a),a=this.x64Add(a,o),("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)+("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)}}]),e}(),h=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},m=function(e,t,n,i,o,a){return h((r=h(h(t,e),h(i,a)))<<(s=o)|r>>>32-s,n);var r,s},f=function(e,t,n,i,o,a,r){return m(t&n|~t&i,e,t,o,a,r)},g=function(e,t,n,i,o,a,r){return m(t&i|n&~i,e,t,o,a,r)},w=function(e,t,n,i,o,a,r){return m(t^n^i,e,t,o,a,r)},y=function(e,t,n,i,o,a,r){return m(n^(t|~i),e,t,o,a,r)},_=function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var n=void 0,i=void 0,o=void 0,a=void 0,r=void 0,s=1732584193,c=-271733879,u=-1732584194,l=271733878;for(n=0;n<e.length;n+=16)i=s,o=c,a=u,r=l,s=f(s,c,u,l,e[n],7,-680876936),l=f(l,s,c,u,e[n+1],12,-389564586),u=f(u,l,s,c,e[n+2],17,606105819),c=f(c,u,l,s,e[n+3],22,-1044525330),s=f(s,c,u,l,e[n+4],7,-176418897),l=f(l,s,c,u,e[n+5],12,1200080426),u=f(u,l,s,c,e[n+6],17,-1473231341),c=f(c,u,l,s,e[n+7],22,-45705983),s=f(s,c,u,l,e[n+8],7,1770035416),l=f(l,s,c,u,e[n+9],12,-1958414417),u=f(u,l,s,c,e[n+10],17,-42063),c=f(c,u,l,s,e[n+11],22,-1990404162),s=f(s,c,u,l,e[n+12],7,1804603682),l=f(l,s,c,u,e[n+13],12,-40341101),u=f(u,l,s,c,e[n+14],17,-1502002290),c=f(c,u,l,s,e[n+15],22,1236535329),s=g(s,c,u,l,e[n+1],5,-165796510),l=g(l,s,c,u,e[n+6],9,-1069501632),u=g(u,l,s,c,e[n+11],14,643717713),c=g(c,u,l,s,e[n],20,-373897302),s=g(s,c,u,l,e[n+5],5,-701558691),l=g(l,s,c,u,e[n+10],9,38016083),u=g(u,l,s,c,e[n+15],14,-660478335),c=g(c,u,l,s,e[n+4],20,-405537848),s=g(s,c,u,l,e[n+9],5,568446438),l=g(l,s,c,u,e[n+14],9,-1019803690),u=g(u,l,s,c,e[n+3],14,-187363961),c=g(c,u,l,s,e[n+8],20,1163531501),s=g(s,c,u,l,e[n+13],5,-1444681467),l=g(l,s,c,u,e[n+2],9,-51403784),u=g(u,l,s,c,e[n+7],14,1735328473),c=g(c,u,l,s,e[n+12],20,-1926607734),s=w(s,c,u,l,e[n+5],4,-378558),l=w(l,s,c,u,e[n+8],11,-2022574463),u=w(u,l,s,c,e[n+11],16,1839030562),c=w(c,u,l,s,e[n+14],23,-35309556),s=w(s,c,u,l,e[n+1],4,-1530992060),l=w(l,s,c,u,e[n+4],11,1272893353),u=w(u,l,s,c,e[n+7],16,-155497632),c=w(c,u,l,s,e[n+10],23,-1094730640),s=w(s,c,u,l,e[n+13],4,681279174),l=w(l,s,c,u,e[n],11,-358537222),u=w(u,l,s,c,e[n+3],16,-722521979),c=w(c,u,l,s,e[n+6],23,76029189),s=w(s,c,u,l,e[n+9],4,-640364487),l=w(l,s,c,u,e[n+12],11,-421815835),u=w(u,l,s,c,e[n+15],16,530742520),c=w(c,u,l,s,e[n+2],23,-995338651),s=y(s,c,u,l,e[n],6,-198630844),l=y(l,s,c,u,e[n+7],10,1126891415),u=y(u,l,s,c,e[n+14],15,-1416354905),c=y(c,u,l,s,e[n+5],21,-57434055),s=y(s,c,u,l,e[n+12],6,1700485571),l=y(l,s,c,u,e[n+3],10,-1894986606),u=y(u,l,s,c,e[n+10],15,-1051523),c=y(c,u,l,s,e[n+1],21,-2054922799),s=y(s,c,u,l,e[n+8],6,1873313359),l=y(l,s,c,u,e[n+15],10,-30611744),u=y(u,l,s,c,e[n+6],15,-1560198380),c=y(c,u,l,s,e[n+13],21,1309151649),s=y(s,c,u,l,e[n+4],6,-145523070),l=y(l,s,c,u,e[n+11],10,-1120210379),u=y(u,l,s,c,e[n+2],15,718787259),c=y(c,u,l,s,e[n+9],21,-343485551),s=h(s,i),c=h(c,o),u=h(u,a),l=h(l,r);return[s,c,u,l]},S=function(e){var t=void 0,n="",i=32*e.length;for(t=0;t<i;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n},x=function(e){var t=void 0,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var i=8*e.length;for(t=0;t<i;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n},k=function(e){var t="",n=void 0,i=void 0;for(i=0;i<e.length;i+=1)n=e.charCodeAt(i),t+="0123456789abcdef".charAt(n>>>4&15)+"0123456789abcdef".charAt(15&n);return t},C=function(e){return unescape(encodeURIComponent(e))},X=function(e){return function(e){return S(_(x(e),8*e.length))}(C(e))},b=function(e,t){return function(e,t){var n,i=void 0,o=x(e),a=[],r=[];for(a[15]=r[15]=void 0,o.length>16&&(o=_(o,8*e.length)),i=0;i<16;i+=1)a[i]=909522486^o[i],r[i]=1549556828^o[i];return n=_(a.concat(x(t)),512+8*t.length),S(_(r.concat(n),640))}(C(e),C(t))},A=function(e,t,n){return t?n?b(t,e):k(b(t,e)):n?X(e):k(X(e))},q=function(e){var t={};if(e||(e=window.location.href),-1===e.indexOf("?"))return t;for(var n=e.indexOf("?"),i=e.substring(n+1).split("&"),o=0;o<i.length;o++){var a=i[o].indexOf("=");if(-1!==a)try{t[i[o].substring(0,a)]=decodeURIComponent(i[o].substring(a+1))}catch(r){t[i[o].substring(0,a)]=i[o].substring(a+1)}}return t},Y=function(e,t){return e?q(t)[e]:""},L=function(e){var t=[];for(var n in e)t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")},I=0;function N(){}function R(e,t,n){return e+=e.indexOf("?")>-1?"&":"?"+L(t),new Promise((function(t,i){!function(e,t,n){"function"==typeof t&&(n=t,t={}),t||(t={});var i,o,a=t.prefix||"__jp",r=t.name||a+I++,s=t.param||"callback",c=null!=t.timeout?t.timeout:5e3,u=encodeURIComponent,l=document.getElementsByTagName("script")[0]||document.head;function d(){i.parentNode&&i.parentNode.removeChild(i),window[r]=N,o&&clearTimeout(o)}c&&(o=setTimeout((function(){d(),n&&n(new Error("Timeout"))}),c)),window[r]=function(e){d(),n&&n(null,e)},e=(e+=(~e.indexOf("?")?"&":"?")+s+"="+u(r)).replace("?&","?"),(i=document.createElement("script")).src=e,l.parentNode&&l.parentNode.insertBefore(i,l)}(e,n,(function(e,n){e?i(e):t(n)}))}))}var E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window.alertOriginURL=function(e){console.log(e)};var M={getSequence:function(e){var t,n;return("view"===e.event_action?"v_":"click"===e.event_action?"c_":"o_")+(t=""+e.sessionid+ +(new Date).getTime()+window.YXStat.sequence.count_seq++,A(t).substring(0,n||10))},initSeqData:function(e){var t=window.YXStat.sequence;if("view"===e.event_action){d.setCookie("yx_stat_ypmList","",-1,"/",".you.163.com"),t.view_seq=e.sequence;var n=Y("miniapp_ypm",window.location.search),i=""!==e.refer_url?Y("seqFromAct",e.refer_url):Y("seqFromAct",window.location.search);if(n||i){var o=n?n.split(";"):i.split(";");o.length&&"-1"===(t.from_seq=o[o.length-1])&&o.length>=2&&(t.from_seq=o[o.length-2]),o.length>10?t.seq_list=o.slice(o.length-10):t.seq_list=o}else if(""!==e.refer_url){var a=this.getSeqDataFromCookie();t.seq_list=a.seq_list,t.from_seq=a.from_seq}this.setNextSeqListInCookie(e)}else"click"===e.event_action&&e.topage&&this.setNextSeqListInCookie(e)},getYpmListFromMiniapp:function(e){var t=window.YXStat.sequence,n=[];try{n=JSON.parse(decodeURIComponent(decodeURIComponent(e)))}catch(a){return}if(n&&"object"==(void 0===n?"undefined":E(n))&&n.length&&n.length>0){for(var i=n.length>10?10:n.length,o=0;o<i;o++)t.ypm_list.push(JSON.stringify(n[o]));"-1"===n[n.length-1].sequence&&n.length>=2?t.ypm=JSON.stringify(n[n.length-2]):t.ypm=JSON.stringify(n[n.length-1])}},initYpmData:function(e){var t=this;return new Promise((function(n,i){var o=window.YXStat.sequence,a=window.YXStat.crossStorage;if("view"===e.event_action){o.view_ypm.sequence=e.sequence,o.view_ypm.page_name=e.page_name,o.view_ypm.event_name=e.event_name,o.view_ypm.parameters=e.parameters,o.view_ypm.abtest_dis=e.abtest_dis,o.view_ypm.mi=e.mi;var r=q(window.location.search);if(r.ypm_list||r.shortened_url)if(r.shortened_url)(function(e){return R("https://u.163.com/urloriginal.jsp",{q:e},{name:"alertOriginURL"})})(decodeURIComponent(r.shortened_url)).then((function(i){var o=Y("ypm_list",i);t.getYpmListFromMiniapp(o),t.setNextYpmListInHub(e),n(e)}),(function(i){t.setNextYpmListInHub(e),n(e)}));else r.ypm_list&&(t.getYpmListFromMiniapp(r.ypm_list),t.setNextYpmListInHub(e),n(e));else""!==e.refer_url?t.getYpmDataFromHub().then((function(i){a.setItem("yx_stat_ypmList","",(function(e){window.YXStat.isDebug&&console.log("yx_stat_ypmList已置空")})),o.ypm_list=i.ypm_list,o.ypm=i.ypm,t.setNextYpmListInHub(e),n(e)})):(t.setNextYpmListInHub(e),n(e))}else"click"===e.event_action&&e.topage?(t.setNextYpmListInHub(e),n(e)):n(e)}))},getFromSeq:function(e){var t=window.YXStat.sequence;return"view"===e.event_action?t.from_seq:"click"===e.event_action||"add"===e.event_action||"collect"===e.event_action?t.view_seq:""},getSeqList:function(e){var t=window.YXStat.sequence;if("view"===e.event_action)return t.seq_list.join(";");if("click"===e.event_action||"add"===e.event_action||"collect"===e.event_action){var n=t.seq_list.map((function(e){return e}));return n.push(t.view_seq),n.join(";")}return""},getYpm:function(e){var t=window.YXStat.sequence;return"view"===e.event_action?t.ypm:"click"===e.event_action||"add"===e.event_action||"collect"===e.event_action?JSON.stringify(t.view_ypm):""},getYpmList:function(e){var t=window.YXStat.sequence;if("view"===e.event_action)return t.ypm_list;if("click"===e.event_action||"add"===e.event_action||"collect"===e.event_action){var n=t.ypm_list.map((function(e){return e}));return n.push(JSON.stringify(t.view_ypm)),n}return""},getSeqDataFromCookie:function(){var e=decodeURIComponent(d.getCookie("yx_stat_seqList")||""),t=[];e&&(t=e.split("|"));var n=t.length>=2&&t[1]||"",i=[];n&&(i=n.split(";"));var o=i.length,a="";if(o&&"-1"===(a=i[o-1])&&o>=2&&(a=i[o-2]),-1===window.YXStat.url.search("dc.you.163.com/main/a.js")||"test"===window.YXStat.environment)d.setCookie("yx_stat_seqList","",-2);else{var r=-1===window.YXStat.url.search("dc.music.163.com/music/a.js")?".you.163.com":".music.163.com";d.setCookie("yx_stat_seqList","",-2,"/",r)}return{seq_list:i,from_seq:a}},setNextSeqListInCookie:function(e){for(var t=window.YXStat.sequence,n=[],i=0,o=t.seq_list.length;i<o;i++)o>=10&&i>1?n[i-2]=t.seq_list[i]:n[i]=t.seq_list[i];var a="";if("view"===e.event_action?(n.push(t.view_seq),n.push("-1")):"click"===e.event_action&&e.topage&&(n.push(t.view_seq),n.push(e.sequence)),(a=n.join(";"))&&(a=t.view_seq+"|"+a),-1===window.YXStat.url.search("dc.you.163.com/main/a.js")||"test"===window.YXStat.environment)d.setCookie("yx_stat_seqList",a,-1);else{var r=-1===window.YXStat.url.search("dc.music.163.com/music/a.js")?".you.163.com":".music.163.com";d.setCookie("yx_stat_seqList",a,-1,"/",r)}},getYpmDataFromHub:function(){return new Promise((function(e,t){window.YXStat.crossStorage.getItem("yx_stat_ypmList",(function(t){window.YXStat.isDebug&&console.log("client getItem result: ",t);var n=t||"",i=[];n&&(i=n.split(";"));var o=i.length,a="";if(o)try{a="-1"===JSON.parse(i[o-1]).sequence&&o>=2?i[o-2]:i[o-1]}catch(r){a=i[o-1]}e({ypm_list:i,ypm:a})}))}))},setNextYpmListInHub:function(e){for(var t=window.YXStat.sequence,n=window.YXStat.crossStorage||{},i=[],o=0,a=t.ypm_list.length;o<a;o++)a>=10&&o>1?i[o-2]=t.ypm_list[o]:i[o]=t.ypm_list[o];var r;"view"===e.event_action?(i.push(JSON.stringify(t.view_ypm)),i.push(JSON.stringify({sequence:"-1",page_name:"",event_name:"",parameters:"",abtest_dis:"",mi:""}))):"click"===e.event_action&&e.topage&&(i.push(JSON.stringify(t.view_ypm)),i.push(JSON.stringify({sequence:e.sequence,page_name:e.page_name,event_name:e.event_name,parameters:e.parameters,abtest_dis:e.abtest_dis,mi:e.mi}))),r=i.join(";"),n.setItem("yx_stat_ypmList",r,(function(e){window.YXStat.isDebug&&console.log("yx_stat_ypmList 完成本地存储")}))},trackFocusInDesk:function(){var e,n,i,o=this,a=window.YXStat.sequence;t||(e=window,n="focus",i=function(){var e=decodeURIComponent(d.getCookie("yx_stat_seqList")||"").split("|");!a.view_seq||e.length&&a.view_seq===e[0]||o.setNextSeqListInCookie({event_action:"view"})},void 0!==e.addEventListener?e.addEventListener(n,i,!1):e.attachEvent("on"+n,i))}},D=function(e,t){for(var n={},i=void 0,o=0;o<t.length;o++)void 0!==e[i=t[o]]&&(n[i]=e[i]);return n},O=function(e){var t,i=D(e,["event_action","event_name","page_name","topage","is_return","xpath","mi","report_url","userId"]);if(n&&"view"===i.event_action&&void 0===i.is_return&&(i.is_return=0),n&&(e.parameters||(e.parameters={}),e.parameters.url=window.location.href),e.topage&&(i.topage=(t=e.topage,/^\/\/[^\/]/.test(t)?t=window.location.protocol+t:/^\//.test(t)&&(t=window.location.protocol+"//"+window.location.host+t),n&&(t="yanxuan://yxwebview?url="+t),t),c&&n&&("3.5.0"===l()||"3.5.1"===l())&&(e.parameters||(e.parameters={}),e.parameters.topage=i.topage)),void 0!==e.parameters&&"[object object]"==={}.toString.call(e.parameters).toLowerCase()&&(s&&n&&l()<"3.4.0"?i.parameters=e.parameters:i.parameters=JSON.stringify(e.parameters)),window.ABTEST_DIS&&(i.abtest_dis=window.ABTEST_DIS),window.$$ssr&&!0===window.$$ssr&&(i.ssr=window.$$ssr),/(dc\.igame\.163\.com\/music\/a\.js)|(dc\.music\.163\.com\/music\/a\.js)/.test(window.YXStat.url))try{var o=d.getCookie("music_userid");o&&(i.userId=o)}catch(i){}return i},T={timeOfHalfHour:18e5,getSession:function(){var e=d.getCookie("yx_stat_seesionId");return e?this.getUniqueId(e):this.creatUniqueId()},getUniqueId:function(e){return-1===window.YXStat.url.search("dc.you.163.com/main/a.js")?d.setCookie("yx_stat_seesionId",e,.020833333333333332):d.setCookie("yx_stat_seesionId",e,.020833333333333332,"/",".you.163.com"),e},creatUniqueId:function(){var e=(new Date).getTime(),t=d.getCookie("yx_aui")||"",n=window.localStorage&&window.localStorage.getItem&&window.localStorage.getItem("mail_psc_fingerprint");return e=t?t+e:n?n+e:function(e){for(var t="",n=e,i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],o=0;o<n;o++){t+=i[Math.round(Math.random()*(i.length-1))]}return t}(32)+e,-1===window.YXStat.url.search("dc.you.163.com/main/a.js")?d.setCookie("yx_stat_seesionId",e,.020833333333333332):d.setCookie("yx_stat_seesionId",e,.020833333333333332,"/",".you.163.com"),e}};var j,F,P,U=function(){if(0!==window.YXStat.events.length){var e=window.YXStat.events.splice(0,window.YXStat.events.length);Q({events:JSON.stringify(e)},!0,K)}},H=(j=U,F=100,P=null,function(){P&&(clearTimeout(P),P=null),P=setTimeout((function(){j()}),F)}),K=function(e,t){var n;e&&((n=window.YXStat.events).push.apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(JSON.parse(t.events))),window.YXStat.isDebug&&console.log("rollback:"+window.YXStat.events.length+JSON.stringify(window.YXStat.events)))},J=function(){if(0!==window.YXStat.events.length){var e=window.YXStat.events.splice(0,window.YXStat.events.length);"sendBeacon"in window.navigator&&z({events:JSON.stringify(e)})||e.map((function(e){$(e)}))}},B=function(e){window.YXStat.isBatch?"show"===e.event_action?(window.YXStat.events.push(e),H(),window.YXStat.isDebug&&console.log("showpush:"+window.YXStat.events.length+JSON.stringify(window.YXStat.events)),window.YXStat.events.length>=10&&U()):(Q({events:JSON.stringify([e])},!0),U()):Q({events:JSON.stringify([e])},!0)},W=function(e){window.NEJsbridge?G(e):document.addEventListener("NEJsbridgeReady",(function t(){document.removeEventListener("NEJsbridgeReady",t),G(e)}))},G=function(e){window.NEJsbridge.call("YXStatisticRecordEvent",JSON.stringify(e)),console.log("Event is sended successfully: "+e.event_name+" log_source: "+e.log_source)},$=function(e,t,n){var i=L(e),o=window.YXStat.url+"?"+i;t&&(o=window.YXStat.autotrackOfUrl+"?"+i),n&&(o=n+"?"+i);var a=V(o);a.onload=a.onerror=function(){a.onload=null,a.onerror=null,a=null}},V=function(e){var t=document.createElement("img");return t.width=1,t.height=1,t.src=e,t},z=function(e){var t=L(e);return navigator.sendBeacon(window.YXStat.url,t)},Q=function(e,t,n){try{var i=window.XMLHttpRequest?new window.XMLHttpRequest:window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLHTTP"):null,o=L(e);i.open("POST",window.YXStat.url,t),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.withCredentials=!0,i.onreadystatechange=function(){4===i.readyState&&Number(i.status)>=200&&Number(i.status)<300?"function"==typeof n&&n(!1,e):4===i.readyState&&"function"==typeof n&&n(!0,e)},i.send(o)}catch(a){"function"==typeof n&&n(!0,e)}};return function(){window.YXStat=window.YXStat||{},window.YXStat.q=window.YXStat.q||[];var e=window.YXStat;e.init=function(i){if(i=i||{},e.client_type=i.client_type||"",e.yx_appid=i.yx_appid||"",e.url=i.url||"//dc.you.163.com/main/a.js",e.autotrackOfUrl=i.autotrackOfUrl||"//dc.you.163.com/autotrack/a.js",e.appLogSource=i.appLogSource||"h5",e.isBatch=void 0===i||void 0===i.isBatch||i.isBatch,e.isDebug=void 0!==i&&void 0!==i.isDebug&&i.isDebug,e.noReport=void 0!==i&&void 0!==i.noReport&&i.noReport,e.environment=void 0!==i&&void 0!==i.environment?i.environment:"",e.q=e.q||[],e.sequence={view_seq:"",view_ypm:{},from_seq:"",seq_list:[],ypm:"",ypm_list:[],count_seq:1},e.isBatch&&(!n||window.YXStat.openReportFromWeb)){e.events=[];var o=function e(t){"visibilitychange"===t.type?"hidden"===document.visibilityState&&J():"beforeunload"===t.type?(J(),function(e){window.removeEventListener("beforeunload",e,!1)}(e)):J()};document.addEventListener("visibilitychange",o,!1),!u&&window.addEventListener("pagehide",o,!1),window.addEventListener("beforeunload",o,!1)}var a;t(),a=function(){if(e.q.length>0)for(var t=void 0,n=e.q,o=0;o<n.length;o++)(t=n[o]).constructor===Array&&t.length>0&&void 0!==e[t[0]]&&e[t[0]].apply(null,t.slice(1));e.q={},e.q.push=function(t){t.constructor===Array&&t.length>0&&void 0!==e[t[0]]&&e[t[0]].apply(null,t.slice(1))},(void 0===i||void 0===i.isAgent||i.isAgent)&&e.track_agent_click()},n&&a&&"function"==typeof a?a():(new v).get((function(e){if(!d.getCookie("mail_psc_fingerprint"))if(window.localStorage&&window.localStorage.getItem("mail_psc_fingerprint")){var t=window.localStorage.getItem("mail_psc_fingerprint");d.setCookie("mail_psc_fingerprint",t,7300,"/")}else d.setCookie("mail_psc_fingerprint",e,7300,"/");window.localStorage&&(window.localStorage.getItem("mail_psc_fingerprint")||window.localStorage.setItem("mail_psc_fingerprint",e)),a&&"function"==typeof a&&a()})),M.trackFocusInDesk()},e.add_event=function(t){if(t.event_name)if(t.event_action)if(t.page_name){var s,c=D(t,["event_action","event_name","page_name","parameters","topage","is_return","mi","report_url","userId"]);e.noReport||(s=O((s=c)||{}),n&&!window.YXStat.openReportFromWeb?(s.log_source=window.YXStat.appLogSource,W(s)):(s.client_type=window.YXStat.client_type,s.yx_appid=window.YXStat.yx_appid,window.YXStat.environment&&(s.environment=window.YXStat.environment),s.url=window.location.href,s.refer_url=document.referrer,s.t=(new Date).getTime(),s.sessionid=T.getSession(),r&&(s.log_source="h5",i?s.client_type="wx_miniapp":o?s.client_type="douyin_miniapp":a&&(s.client_type="alipay_miniapp"),s.cookie_id=window.YXStat.miniapp&&(window.YXStat.miniapp.cookie_id||""),s.activity_channel_id=window.YXStat.miniapp&&(window.YXStat.miniapp.activity_channel_id||""),window.YXStat.miniapp&&window.YXStat.miniapp.from_page&&(s.refer_url=window.YXStat.miniapp.from_page),s.scene=window.YXStat.miniapp&&(window.YXStat.miniapp.scene||"")),!/(dc\.you\.163\.com\/main\/a\.js)|(dc-test\.you\.163\.com\/main\/a\.js)|(dc\.igame\.163\.com\/music\/a\.js)|(dc\.music\.163\.com\/music\/a\.js)/.test(window.YXStat.url)&&"yx_pet"!==s.yx_appid||s.report_url?s.report_url?$(s,!1,s.report_url):$(s):(s.sequence=M.getSequence(s),M.initSeqData(s),s.from_seq=M.getFromSeq(s),s.seq_list=M.getSeqList(s),B(s)))),"view"===c.event_action&&(e.viewData=c)}else console.log("Event must have page_name property");else console.log("Event must have event_action property");else console.log("Event must have event_name property")},e.track_view=function(t){if(t.event_name)if(t.page_name){var n=D(t,["event_name","page_name","parameters","userId"]);n.event_action="view",e.add_event(n)}else console.log("Event must have page_name property");else console.log("Event must have event_name property")},e.track_click=function(t){if(t.event_name)if(t.page_name){var n=D(t,["event_name","page_name","parameters","topage","mi"]);n.event_action="click",e.add_event(n)}else console.log("Event must have page_name property");else console.log("Event must have event_name property")},e.track_auto=function(e){if(e.event_name)if(e.xpath){e.event_action="click",e.page_name=" ";var t,s=D(e,["event_action","event_name","page_name","parameters","xpath"]);t=s,n||((t=O(t||{})).client_type=window.YXStat.client_type,t.yx_appid=window.YXStat.yx_appid,t.url=window.location.href,t.refer_url=document.referrer,t.t=(new Date).getTime(),r&&(t.log_source="h5",i?t.client_type="wx_miniapp":o?t.client_type="douyin_miniapp":a&&(t.client_type="alipay_miniapp"),t.cookie_id=window.YXStat.miniapp&&(window.YXStat.miniapp.cookie_id||""),t.activity_channel_id=window.YXStat.miniapp&&(window.YXStat.miniapp.activity_channel_id||""),window.YXStat.miniapp&&window.YXStat.miniapp.from_page&&(t.refer_url=window.YXStat.miniapp.from_page),t.scene=window.YXStat.miniapp&&(window.YXStat.miniapp.scene||"")),$(t,!0))}else console.log("Event must have xpath property");else console.log("Event must have event_name property")},e.track_agent_click=function(e){e=e||document;s(e,"click",(function(e){var t=c(e),n=l(t);n&&p(n,e)}))};var t=function(){var t=q(window.location.search),n=t.miniapp_uuid,i=t.miniapp_activity_channel_id,o=t.miniapp_from_page,a=t.miniapp_scene;n&&(d.setCookie("yx_stat_miniapp_cookieId",n,-1,"/",".you.163.com"),i?d.setCookie("yx_stat_miniapp_channelId",i,-1,"/",".you.163.com"):d.setCookie("yx_stat_miniapp_channelId","",-2,"/",".you.163.com"),a?d.setCookie("yx_stat_miniapp_scene",a,-1,"/",".you.163.com"):d.setCookie("yx_stat_miniapp_scene","",-2,"/",".you.163.com")),e.miniapp={cookie_id:n||d.getCookie("yx_stat_miniapp_cookieId"),activity_channel_id:i||d.getCookie("yx_stat_miniapp_channelId"),from_page:o||"",scene:a||d.getCookie("yx_stat_miniapp_scene")}},s=function(e,t,n){void 0!==e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},c=function(e){return e||void 0===window.event?void 0!==e&&void 0!==e.target?e.target:void 0!==e&&void 0!==e.srcElement?e.srcElement:void 0:window.event.srcElement},l=function(e){for(;e&&"HTML"!==e.nodeName;){if(e.getAttribute("data-yxstat"))return e;e=e.parentNode}return null},p=function(t,n){var i=t.getAttribute("data-yxstat"),o=t.getAttribute("href"),a=t.getAttribute("target");try{i=JSON.parse(i)}catch(r){i={},console.log("The value from data-yxstat is not json string")}i&&i.event_action&&i.event_name&&i.page_name&&(e.q.push(["add_event",{event_name:i.event_name,page_name:i.page_name,event_action:i.event_action,parameters:i.parameters,topage:i.topage,mi:i.mi}]),void 0!==n&&o&&/^(http:\/\/|https:\/\/|\/\/|\/).*/.test(o)&&"_blank"!==a&&(n.preventDefault?n.preventDefault():n.returnValue=!1,setTimeout((function(){var e=document.createElement("a");e.href=o,e.target="_self",document.body.appendChild(e),void 0!==e.click?e.click():window.location.href=o,document.body.removeChild(e)}),200)))};return void 0!==e.initOptions&&e.init(e.initOptions),e.getSeqListForMiniapp=function(){return M.getSeqDataFromCookie().seq_list.join(";")},window.onWebViewStatisticsDidAppear=function(t){if(t&&e.add_event&&e.viewData){var n=e.viewData;n.is_return=1,e.add_event(n)}},e.tool={warpPageJump:function(e){e&&"function"==typeof e&&setTimeout((function(){e()}),200)}},{init:e.init,stat:function(t,n){e.q.push([n,t])}}}()}();
